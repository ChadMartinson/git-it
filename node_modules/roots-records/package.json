{
  "name": "roots-records",
  "version": "0.2.0",
  "author": {
    "name": "Carrot Creative",
    "email": "dev@carrotcreative.com"
  },
  "description": "dynamic content functionality for roots",
  "license": "MIT",
  "keywords": [
    "roots-extension",
    "json",
    "records",
    "dynamic content"
  ],
  "repository": {
    "type": "git",
    "url": "https://github.com/carrot/roots-records.git"
  },
  "main": "lib",
  "dependencies": {
    "lodash": "*",
    "when": "*",
    "request": "*"
  },
  "devDependencies": {
    "coffee-script": "1.7.x",
    "roots": "3.0.0-rc.10",
    "roots-util": "0.1.x",
    "mocha": "*",
    "should": "*",
    "glob": "*"
  },
  "scripts": {
    "test": "mocha"
  },
  "engines": {
    "node": ">=0.10.0"
  },
  "readme": "roots-records\n=============\n\n[![NPM version](https://badge.fury.io/js/roots-records.svg)](http://badge.fury.io/js/roots-records) [![tests](https://travis-ci.org/carrot/roots-records.png?branch=master)](https://travis-ci.org/carrot/roots-records)\n\nImport objects into [roots](http://www.github.com/jenius/roots)' local schema for use with any template engine.\n\n### Installation\n- make sure you are in your roots project directory\n- `npm install roots-records --save`\n- modify your `app.coffee` as such:\n  ```coffee\n  records = require('roots-records')\n\n  # ...\n\n  module.exports =\n    extensions: [\n      records({\n        books: {url: 'http://www.google.com/books'},\n        shoes: {file: 'data/books.json'},\n        scores: {data: {home: 1, away: 0}}\n      })\n    ]\n\n  # ...\n  ```\n\n### Usage\n\nLet's say you've constructed a static site with roots, but want to use a cms to update content. You've got two options:\n\n- you can use [roots-client-templates](https://github.com/carrot/roots-client-templates) to precompile templates and write js which requests the json on page load (or whenever) and outputs the templates, or..\n- you can use this extension, which provides a simple method for grabbing json via a url or path and exposes the object to your template engine as locals.\n\nThe difference here is that with roots-records, the json is requested when roots compiles and provided to your template engine as locals.  Every time `$ roots compile` is called, the specified json is requested and provided to your locals schema.  Note that this will slow the compilation process, as your json is requested on every compile.\n\n#### Specifying json\n\nThe `records` method returned has one argument.  Pass an object like this:\n\n```coffee\nmodule.exports =\n  extensions: [\n    records({\n      books: {url: 'http://www.google.com/books', path: 'items'}\n    })\n  ]\n```\n\nNote that an exception will be thrown on compilation if the resource is unavailable.\n\n### Options\n\n#### source (either `url`, `file`, or `data`)\nThe json resource to request.\n\n#### path\nA specific key from the requested json to be used.  For example, let's say your json is an object like this:\n\n```coffee\n{\n kind: \"books\",\n items: [\n    {\n      title: \"The Great Gatsby\",\n      author: \"F. Scott Fitzgerald\"\n    }\n  ]\n}\n```\n\nIf you want to simply use the value of `\"items\"`, pass `\"items\"` to the `path` option, and your record will simply be the `items` array.\n\n### Templates\n\nroots-records stores all results in your locals schema under the `records` key.  So, in your templates, you can access the values of json you named `books` via `records.books`.\n\n## License & Contributing\n\n- Details on the license [can be found here](LICENSE.md)\n- Details on running tests and contributing [can be found here](contributing.md)\n",
  "readmeFilename": "README.md",
  "bugs": {
    "url": "https://github.com/carrot/roots-records/issues"
  },
  "_id": "roots-records@0.2.0",
  "dist": {
    "shasum": "687671197dd61e7affa58ad4b172742a8e96043f"
  },
  "_from": "roots-records@",
  "_resolved": "https://registry.npmjs.org/roots-records/-/roots-records-0.2.0.tgz"
}
